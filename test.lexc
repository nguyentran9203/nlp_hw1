# Vietnamese Reduplication Lexicon for HFST
# Based on:
# Nguyen et al. (2007) "A lexicon for Vietnamese language processing"
# Phuong et al. (2009) "Finite-State Description of Vietnamese Reduplication"

Multichar_Symbols
+Ton_a +Ton_á +Ton_à +Ton_ả +Ton_ã +Ton_ạ
+Cons_p +Cons_t +Cons_c +Cons_ch +Cons_m +Cons_n +Cons_ng +Cons_nh
+Redup +ToneRedup +ConsRedup

LEXICON Root
Initials Vowels Tones Finals RedupTypes ;

LEXICON RedupTypes

! 1. Full reduplication (AA pattern)
Initials Vowels Tones Finals "+REDUP":Initials Vowels Tones Finals # ;

! 2. Tone-according reduplication
Initials Vowels Tones Finals "+TONEREDUP":Initials Vowels Tones Finals ToneRedup ;

! 3. Consonant-change reduplication
Initials Vowels Tones Finals "+CONSREDUP":Initials Vowels Tones Finals ConsRedup ;

LEXICON ToneRedup

! Tone change rules (non-flat → flat)
Initials Vowels +Ton_a Finals # : 
    Initials Vowels (+Ton_á|+Ton_ả) Finals ;

Initials Vowels +Ton_à Finals # : 
    Initials Vowels (+Ton_ã|+Ton_ạ) Finals ;

LEXICON ConsRedup

! Consonant+tone change rules
Initials Vowels +Ton_a +Cons_m # : 
    Initials Vowels (+Ton_á|+Ton_ả) +Cons_p ;

Initials Vowels +Ton_a +Cons_n # : 
    Initials Vowels (+Ton_á|+Ton_ả) +Cons_t ;

Initials Vowels +Ton_à +Cons_ng # : 
    Initials Vowels (+Ton_ã|+Ton_ạ) +Cons_c ;

Initials Vowels +Ton_à +Cons_nh # : 
    Initials Vowels (+Ton_ã|+Ton_ạ) +Cons_ch ;

! Phoneme definitions
LEXICON Initials

b p m f v ;
d t n l ;
g k ng h ;
đ th nh kh ;
s x r ;
c q ch tr ;
%0 ;  %0 represents null initial

LEXICON Vowels

a ă â ;
e ê ;
i y ;
o ô ơ ;
u ư ;

LEXICON Tones

+Ton_a +Ton_á +Ton_à +Ton_ả +Ton_ã +Ton_ạ ;

LEXICON Finals

+Cons_p +Cons_t +Cons_c +Cons_ch ;
+Cons_m +Cons_n +Cons_ng +Cons_nh ;
%0 ;  %0 represents null final
